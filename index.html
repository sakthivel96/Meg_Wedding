<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Wedding AR Invitation</title>

  <!-- A-Frame & MindAR -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>

  <style>
    html, body { 
      margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; 
    }
    a-scene { width: 100%; height: 100%; position: absolute; top: 0; left: 0; }
  </style>
</head>
<body>

<a-scene mindar-image="imageTargetSrc: targetsMegMarriage.mind; maxTrack: 2; filterMinCF:0.001;" 
         color-space="sRGB"
         renderer="antialias: true; alpha: true;"
         vr-mode-ui="enabled: false"
         device-orientation-permission-ui="enabled: true">

  <!-- Camera -->
  <a-camera mindar-image-camera></a-camera>

  <!-- Debug Text -->
  <a-text id="debugText" value="Initializing AR..." 
          color="#FF0000" 
          position="0 2 0" 
          align="center" 
          scale="0.8 0.8 0.8">
  </a-text>

  <!-- AR Content -->
  <a-entity mindar-image-target="targetIndex: 0" position="0 0 0">

    <!-- Rotating Names -->
    <a-text value="M. Meganathan & A. Divya" 
            color="#FF69B4" 
            position="0 0 0" 
            align="center" 
            scale="1 1 1">
      <a-animation attribute="rotation" to="0 360 0" dur="20000" repeat="indefinite" easing="linear"></a-animation>
    </a-text>

    <!-- Date -->
    <a-text value="24th October 2025" 
            color="#FFFFFF" 
            position="0 -0.3 0" 
            align="center" 
            scale="0.8 0.8 0.8">
    </a-text>

    <!-- Floating & Rotating Images -->
    <a-entity position="0 0.3 0">

      <a-plane src="hearts_1.png" height="0.2" width="0.2"
               material="transparent: true"
               position="-0.6 0 0" look-at="[camera]">
        <a-animation attribute="position" to="-0.6 0.8 0" dur="3000" direction="alternate" repeat="indefinite"></a-animation>
        <a-animation attribute="rotation" to="0 360 0" dur="4000" repeat="indefinite"></a-animation>
      </a-plane>

      <a-plane src="hearts_2.png" height="0.2" width="0.2"
               material="transparent: true"
               position="-0.3 0 0" look-at="[camera]">
        <a-animation attribute="position" to="-0.3 0.7 0" dur="3500" direction="alternate" repeat="indefinite"></a-animation>
        <a-animation attribute="rotation" to="0 360 0" dur="4500" repeat="indefinite"></a-animation>
      </a-plane>

      <a-plane src="wedding_1.png" height="0.2" width="0.2"
               material="transparent: true"
               position="0 0 0" look-at="[camera]">
        <a-animation attribute="position" to="0 0.6 0" dur="4000" direction="alternate" repeat="indefinite"></a-animation>
        <a-animation attribute="rotation" to="0 360 0" dur="5000" repeat="indefinite"></a-animation>
      </a-plane>

      <a-plane src="wedding_2.png" height="0.2" width="0.2"
               material="transparent: true"
               position="0.3 0 0" look-at="[camera]">
        <a-animation attribute="position" to="0.3 0.7 0" dur="4500" direction="alternate" repeat="indefinite"></a-animation>
        <a-animation attribute="rotation" to="0 360 0" dur="5500" repeat="indefinite"></a-animation>
      </a-plane>

      <a-plane src="wedding_3.png" height="0.2" width="0.2"
               material="transparent: true"
               position="0.6 0 0" look-at="[camera]">
        <a-animation attribute="position" to="0.6 0.8 0" dur="5000" direction="alternate" repeat="indefinite"></a-animation>
        <a-animation attribute="rotation" to="0 360 0" dur="6000" repeat="indefinite"></a-animation>
      </a-plane>

    </a-entity>

  </a-entity>
</a-scene>

<!-- MindAR Debug Script -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const sceneEl = document.querySelector("a-scene");
  const debugText = document.querySelector("#debugText");

  sceneEl.addEventListener("mindar-initialized", () => {
    debugText.setAttribute("value", "MindAR Initialized!");
  });

  sceneEl.addEventListener("targetFound", () => {
    debugText.setAttribute("value", "Target Detected!");
  });

  sceneEl.addEventListener("targetLost", () => {
    debugText.setAttribute("value", "Target Lost");
  });

  sceneEl.addEventListener("mindar-error", (e) => {
    debugText.setAttribute("value", "Error: " + e.detail);
  });
});
</script>

</body>
</html>
